---
# Preamble

## Author
author:
  name: Артём Дмитриевич Петлин
  degrees: Student
  orcid: 0000-0002-0877-7063
  email: 1132246846@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: Лабораторная работа №11
license: CC BY
date: 2025-11-15
## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги
## Formats
format:
### Pdf output format
  beamer:
    toc: true
    toc-title: Содержание
    number-sections: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
#### Language
    babel-lang: russian
    babel-otherlangs: english
### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Петлин Артём Дмитриевич
  * студент
  * группа НПИбд-02-24
  * Российский университет дружбы народов
  * [1132246846@pfur.ru](mailto:1132246846@pfur.ru)
  * <https://github.com/hikrim/study_2025-2026_os2>

:::
::: {.column width="30%"}

![](./image/foto2.jpg)

:::
::::::::::::::

# Цель работы

## Цель работы

Получить навыки работы с загрузчиком системы GRUB2.

# Задание

## Задание

1. Продемонстрируйте навыки по изменению параметров GRUB и записи изменений
в файл конфигурации (см. раздел 11.4.1).
2. Продемонстрируйте навыки устранения неполадок при работе с GRUB (см. раздел 11.4.2).
3. Продемонстрируйте навыки работы с GRUB без использования root (см. раздел 11.4.3).

# Теоретическое введение

## Теоретическое введение

Загрузка операционной системы непосредственно после включения и запуска
начальной загрузочной последовательности действий компьютера осуществляется специальным программным обеспечением — загрузчиком операционной системы.
Наиболее распространённый загрузчик для Unix/Linux операционных систем — GRUB
(GRand Unified Bootloader).
Определить версию загрузчика можно с помощью команды

```grub2-install --version```

Основной файл конфигурации GRUB2 — /boot/grub2/grub.cfg. Этот файл генерируется автоматически с помощью файла настроек /etc/default/grub и скриптов из
директории /etc/grub.d.

# Выполнение лабораторной работы

## Выполнение лабораторной работы

![su -](image/1.png){#fig-001 width=100%}

Получаем полномочия администратора. Редактируем конфигурационный файл загрузчика, устанавливая время отображения меню загрузки равным 10 секундам.

## Ход работы

![grub2-mkconfig](image/2.png){#fig-002 width=100%}

Применяем изменения, генерируя новый конфигурационный файл загрузчика.

## Ход работы

:::::::::::::: {.columns align=center}
::: {.column width="40%"}

Перезагружаем систему и проверяем, что меню загрузки теперь отображается в течение установленного времени. 

:::
::: {.column width="60%"}

![grub menu](image/3.jpg){#fig-003 width=100%}

:::
::::::::::::::





## Ход работы

![grub](image/5.jpg){#fig-004 width=100%}

Добавляем параметр загрузки, который запускает систему в режиме восстановления, и убираем параметры, скрывающие процесс загрузки.

## Ход работы

![grub](image/5.jpg){#fig-005 width=100%}

Загружаем систему с измененными параметрами. Вводим пароль пользователя root при появлении запроса.

## Ход работы

:::::::::::::: {.columns align=center}
::: {.column width="40%"}

Изучаем список загруженных системных юнитов в режиме восстановления.

:::
::: {.column width="60%"}

![rescue](image/7.jpg){#fig-007 width=100%}

:::
::::::::::::::





## Ход работы

![rescue](image/8.jpg){#fig-008 width=100%}

Проверяем установленные переменные окружения. Перезагружаем систему.

## Ход работы

![emergency](image/9.jpg){#fig-009 width=100%}

Снова входим в режим редактирования параметров загрузки и на этот раз указываем аварийный режим загрузки.

## Ход работы

![emergency](image/10.jpg){#fig-010 width=100%}

Загружаем систему в аварийном режиме. Снова вводим пароль пользователя root.

## Ход работы

:::::::::::::: {.columns align=center}
::: {.column width="40%"}

Сравниваем список загруженных системных юнитов в аварийном режиме с предыдущим режимом восстановления, отмечая значительное сокращение количества загруженных компонентов.

:::
::: {.column width="60%"}

![emergency](image/11.jpg){#fig-011 width=100%}

:::
::::::::::::::





## Ход работы

![rd.break](image/12.jpg){#fig-012 width=100%}

Перезагружаем компьютер и входим в режим редактирования параметров загрузки через меню GRUB. Добавляем параметр, который прерывает процесс загрузки на раннем этапе, и убираем параметры графической заставки. 

## Ход работы

![rd.break](image/13.jpg){#fig-013 width=100%}

Процесс загрузки останавливается до монтирования корневой файловой системы. Снова вводим пароль пользователя root.

## Ход работы

:::::::::::::: {.columns align=center}
::: {.column width="50%"}

Загружаем систему с указанным параметром. Процесс загрузки останавливается до монтирования корневой файловой системы. Перемонтируем системный образ с правами записи. Изменяем корневой каталог на системный образ. Устанавливаем новый пароль для пользователя root. Загружаем политику SELinux, так как на этом этапе она еще не активирована. Вручную восстанавливаем правильный контекст безопасности для файла с паролями. Принудительно перезагружаем систему.

:::
::: {.column width="50%"}

![rd.break](image/14.jpg){#fig-014 width=100%}

:::
::::::::::::::





## Ход работы

![итог](image/15.jpg){#fig-015 width=100%}

Проверяем возможность входа с новым паролем.


# Ответы на контрольные вопросы

## №1

1. Какой файл конфигурации следует изменить для применения общих изменений в GRUB2?
Основной файл для внесения общих изменений в GRUB2 находится по пути /etc/default/grub. В этом файле мы настраиваем такие параметры, как время отображения меню загрузки, параметры ядра по умолчанию и другие основные настройки загрузчика.

## №2

2. Как называется конфигурационный файл GRUB2, в котором вы применяете изменения для GRUB2?
Основной генерируемый конфигурационный файл GRUB2 имеет имя /boot/grub2/grub.cfg. Важно отметить, что этот файл автоматически генерируется на основе настроек в /etc/default/grub и скриптов в /etc/grub.d/, поэтому мы не редактируем его напрямую.

## №3

3. После внесения изменений в конфигурацию GRUB2, какую команду вы должны выполнить, чтобы изменения сохранились и воспринялись при загрузке системы?
После внесения изменений в файл /etc/default/grub мы выполняем команду grub2-mkconfig -o /boot/grub2/grub.cfg, которая генерирует новый конфигурационный файл на основе измененных настроек. Только после выполнения этой команды изменения вступят в силу при следующей загрузке системы.

# Выводы

## Выводы

Мы получили навыки работы с загрузчиком системы GRUB2.

# Список литературы{.unnumbered}

## Список литературы{.unnumbered}

::: {.refs}
1. Колисниченко Д. Н. Самоучитель системного администратора Linux. — СПб. : БХВ-
Петербург, 2011. — (Системный администратор).
2. Neil N. J. Learning CentOS: A Beginners Guide to Learning Linux. — CreateSpace Inde-
pendent Publishing Platform, 2016.
3. Unix и Linux: руководство системного администратора / Э. Немет, Г. Снайдер, Т.
Хейн, Б. Уэйли, Д. Макни. — 5-е изд. — СПб. : ООО «Диалектика», 2020.
:::

:::::::::::::: {.columns align=center}
::: {.column width="40%"}



:::
::: {.column width="60%"}



:::
::::::::::::::
