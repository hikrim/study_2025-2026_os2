---
# Preamble

## Author
author:
  name: Артём Дмитриевич Петлин
  degrees: Student
  orcid: 0000-0002-0877-7063
  email: 1132246846@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: "Отчёт по первому разделу внешнего курса"
license: "CC BY"
## Generic options
lang: ru-RU
number-sections: true
toc: true
toc-title: "Содержание"
toc-depth: 2
## Crossref customization
crossref:
  lof-title: "Список иллюстраций"
  lot-title: "Список таблиц"
  lol-title: "Листинги"
## Bibliography
bibliography:
  - bib/cite.bib
csl: _resources/csl/gost-r-7-0-5-2008-numeric.csl
## Formats
format:
### Pdf output format
  pdf:
    toc: true
    number-sections: true
    colorlinks: false
    toc-depth: 2
    lof: true # List of figures
    lot: true # List of tables
#### Document
    documentclass: scrreprt
    papersize: a4
    fontsize: 12pt
    linestretch: 1.5
#### Language
    babel-lang: russian
    babel-otherlangs: english
#### Biblatex
    cite-method: biblatex
    biblio-style: gost-numeric
    biblatexoptions:
      - backend=biber
      - langhook=extras
      - autolang=other*
#### Misc options
    csquotes: true
    indent: true
    header-includes: |
      \usepackage{indentfirst}
      \usepackage{float}
      \floatplacement{figure}{H}
      \usepackage[math,RM={Scale=0.94},SS={Scale=0.94},SScon={Scale=0.94},TT={Scale=MatchLowercase,FakeStretch=0.9},DefaultFeatures={Ligatures=Common}]{plex-otf}
### Docx output format
  docx:
    toc: true
    number-sections: true
    toc-depth: 2
---

# Цель работы

Выполнить первый раздел внешнего курса "Системный администратор Linux с нуля".

# Задание

Задания первого, второго и третьего модулей, а также тесты.

# Теоретическое введение

- Модуль 1. Введение в системное администрирование
- Модуль 2. Базовые команды Linux
- Модуль 3. Файлы и каталоги

# Выполнение практических заданий

![модуль 2](image/1.jpg){#fig-001 width=100%}

Устанавливаем утилиту htop.

![модуль 2](image/2.jpg){#fig-002 width=100%}

Запускаем htop и сортируем процессы по использованию оперативной памяти.

![модуль 2](image/3.jpg){#fig-003 width=100%}

Узнаем, сколько осталось свободного места на диске.

![модуль 2](image/4.jpg){#fig-004 width=100%}

В каталоге /var находим подкаталоги, занимающие больше всего места.

![модуль 2](image/5.jpg){#fig-005 width=100%}

Читаем из системного журнала последние сообщения, связанные с ядром (kernel).

![модуль 2](image/6.jpg){#fig-006 width=100%}

Проверяем состояние SSH.

![модуль 2](image/7.jpg){#fig-007 width=100%}

Получаем список всех активных служб.

![модуль 2](image/8.jpg){#fig-008 width=100%}

Находим конфигурационный файл сервиса SSH. Открываем его с помощью текстового редактора, например nano, и просматриваем, какие настройки там указаны.

![модуль 2](image/9.jpg){#fig-009 width=100%}

Просматриваем, какие журналы есть в системе.

![модуль 2](image/10.jpg){#fig-010 width=100%}

Просатриваем последние двадцать записей в системном журнале.

![модуль 2](image/11.jpg){#fig-011 width=100%}

Узнаём, используются ли в системе «сторонние» приложения, не управляемые пакетным менеджером.

![модуль 2](image/12.jpg){#fig-012 width=100%}

Представляем, что в системе установлен веб-сервер Nginx и нам нужно выполнить его перенастройку. Переходим в каталог с конфигурациями, находим файл с основными настройками, делаем резервную копию перед изменениями, открываем файл для редактирования, после изменений перезапускаем сервис.

![модуль 2](image/13.jpg){#fig-013 width=100%}

Получаем информацию о процессоре.

![модуль 2](image/14.jpg){#fig-014 width=100%}

Запрашиваем данные об использовании памяти. Обращаем внимание на поля: MemTotal, MemFree, Buffers и другие.

![модуль 2](image/15.jpg){#fig-015 width=100%}

Просматриваем список файлов в каталоге /dev.

![модуль 2](image/16.jpg){#fig-016 width=100%}

Узнаем текущий каталог. Переходим в домашний каталог и получаем список всех файлов, включая скрытые. Смотрим последние десять записей в системном журнале syslog, связанных с сервисом systemd.

![модуль 3](image/17.jpg){#fig-017 width=100%}

Создаем каталог project, внутри которого создаем несколько подкаталогов: logs, data и backup.

![модуль 3](image/18.jpg){#fig-018 width=100%}

Создаем текстовые файлы: error.log в каталоге ~/project/logs/ и info.txt в каталоге ~/project/data/. После этого проверяем, что файлы созданы.

![модуль 3](image/19.jpg){#fig-019 width=100%}

Копируем файл info.txt из каталога ~/project/data в папку ~/project/backup.

![модуль 3](image/20.jpg){#fig-020 width=100%}

Перемещаем файл error.log из каталога ~/project/logs/ в папку ~/project/data/.

![модуль 3](image/21.jpg){#fig-021 width=100%}

Удаляем папку project вместе со всем содержимым.

![модуль 3](image/22.jpg){#fig-022 width=100%}

Создаем архив archive_test.tar.gz методами tar и gzip, внутри которого помещаем три файла: file1.txt, file2.txt, file3.txt.

![модуль 3](image/23.jpg){#fig-023 width=100%}

Извлекаем архив archive_test.tar.gz в директорию ~/extracted.

![модуль 3](image/24.jpg){#fig-024 width=100%}

Передаем архив archive_test.tar.gz с локального компьютера на сервер в папку backups. Используем IP-адрес 192.168.1.10 и имя пользователя user.

![модуль 3](image/25.jpg){#fig-025 width=100%}

Создаем скрипт clean_logs.sh, который будет архивировать все логи в директории /var/log.

![модуль 3](image/26.jpg){#fig-026 width=100%}

Делаем скрипт исполняемым и запускаем его.

![модуль 3](image/27.jpg){#fig-027 width=100%}

Автоматизируем запуск скрипта с помощью cron. Настраиваем запуск скрипта clean_logs.sh в первый день каждого месяца в 3:30 утра.

# Выполнение тестовых заданий

![тест 1](image/1a.jpg){#fig-001 width=100%}

Потому что свобода, определяющая свободное ПО, — это свобода изучать, изменять и улучшать программу.

![тест 1](image/2a.jpg){#fig-002 width=100%}

Zabbix, так как это специализированная, мощная и широко распространенная система мониторинга.

![тест 1](image/3a.jpg){#fig-003 width=100%}

Ключевая задача системного администратора — это обеспечение стабильности и доступности IT-инфраструктуры. 

![тест 2](image/4a.jpg){#fig-004 width=100%}

Bash является самой распространенной и стандартной командной оболочкой в большинстве дистрибутивов Linux.

![тест 2](image/5a.jpg){#fig-005 width=100%}

Man, если нам требуется получить наиболее полную и структурированную справочную информацию о команде, утилите или системном вызове.

![тест 2](image/6a.jpg){#fig-006 width=100%}

Мы повышаем привилегии, когда необходимо выполнить действие, затрагивающее работу всей системы или других пользователей.

![тест 3](image/7a.jpg){#fig-007 width=100%}

Мы отказываемся от графического интерфейса на серверах, потому что это позволяет нам направить все вычислительные ресурсы на выполнение основных сервисных задач, а не на рендеринг графики.

![тест 3](image/8a.jpg){#fig-008 width=100%}

Мы используем SSH, так как этот протокол обеспечивает нам шифрованное сетевое соединение для безопасного удаленного управления серверами.

![тест 3](image/9a.jpg){#fig-009 width=100%}

Мы различаем эти понятия следующим образом: Терминал — это программа, которая предоставляет нам текстовый интерфейс для ввода команд и вывода результатов. Оболочка — это командный интерпретатор, который работает внутри терминала, читает введенные нами команды, выполняет их и возвращает результат.

![тест 4](image/10a.jpg){#fig-010 width=100%}

Мы знаем, что каталог /etc является стандартным местом хранения глобальных конфигурационных файлов системы и установленных программ.

![тест 4](image/11a.jpg){#fig-011 width=100%}

Мы обращаемся к каталогу /var/log, поскольку он специально предназначен для хранения постоянно растущих файлов, к которым относятся логи.

![тест 4](image/12a.jpg){#fig-012 width=100%}

Мы используем каталог /opt для установки стороннего проприетарного программного обеспечения или больших программных пакетов, которые поставляются в виде самостоятельных сборок и не управляются пакетным менеджером дистрибутива.

![тест 5](image/13a.jpg){#fig-013 width=100%}

Мы рассматриваем каталог /dev как виртуальную файловую систему, в которой ядро Linux представляет все физические и виртуальные устройства в виде специальных файлов.

![тест 5](image/14a.jpg){#fig-014 width=100%}

Мы используем виртуальную файловую систему /proc как окно в ядро системы.

![тест 5](image/15a.jpg){#fig-015 width=100%}

Мы применяем команду cat для просмотра содержимого виртуальных файлов в /proc и /dev, потому что она работает с любыми файлами, просто выводя их содержимое в стандартный вывод.

![тест 6](image/16a.jpg){#fig-016 width=100%}

Мы используем команду pwd, чтобы точно определить, в каком каталоге мы сейчас находимся. Это базовая команда для навигации и ориентации в файловой системе.
Мы используем флаг -a с командой ls, чтобы отобразить все файлы, включая скрытые, имена которых начинаются с точки.
Мы используем относительный путь. Поскольку мы уже находимся в каталоге /etc, то для перехода в его подкаталог apache2 нам достаточно команды cd apache2.

![тест 6](image/17a.jpg){#fig-017 width=100%}

Мы используем символ тильды (~) как сокращение, которое оболочка автоматически расширяет до абсолютного пути к домашнему каталогу текущего пользователя.
Мы строим такой конвейер, когда нам нужно отфильтровать подробный вывод команды ls -l и оставить только те строки, в которых встречается подстрока "ssh".

![тест 7](image/18a.jpg){#fig-018 width=100%}

Мы используем команду tar с ключами -c, -z и -f для создания сжатого tarball-архива из указанной папки.
Мы используем команду tar с ключами -x, -z и -f для распаковки сжатого tarball-архива.
Мы используем команду scp с ключом -r для безопасного копирования всей папки вместе с её содержимым по SSH на удаленный сервер.

![тест 8](image/19a.jpg){#fig-019 width=100%}

Мы используем команду chmod с ключом +x, чтобы дать текущему пользователю право запускать файл как программу или скрипт.
Мы используем символ # в скриптах на Bash и многих других языках сценарного программирования, чтобы обозначить начало комментария.
Мы используем эту команду find для поиска в каталоге /var/log файлов, измененных более 7 дней назад, и для каждого найденного файла выполняем команду его принудительного удаления.

# Оценки тестов

![](image/test1.jpg){#fig-001 width=100%}

![](image/test2.jpg){#fig-002 width=100%}

![](image/test3.jpg){#fig-003 width=100%}

![](image/test4.jpg){#fig-004 width=100%}

![](image/test5.jpg){#fig-005 width=100%}

![](image/test6.jpg){#fig-006 width=100%}

![](image/test7.jpg){#fig-007 width=100%}

![](image/test8.jpg){#fig-008 width=100%}

# Выводы

Мы выполнили первый раздел внешнего курса "Системный администратор Linux с нуля".

# Список литературы{.unnumbered}

::: {.refs}
1. https://study.selectel.ru/members/courses/course756726784647
:::
